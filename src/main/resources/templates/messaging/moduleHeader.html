<div th:fragment="header">

    <nav id="moduleHeader" class="navbar navbar-expand-md navbar-light bg-dark">
      <div class="container-fluid w-100">

        <div class="navbar-nav mt-2 mx-2">
          <a class="nav-link h3" href="/messaging">
            <i class="bi bi-envelope color-msg"></i>
          </a>
        </div>

        <div class="navbar-nav mx-2">
          <a class="btn btn-sm btn-msg" th:if="${#lists.contains(userRoles,'ADMIN_WRITE') or #lists.contains(userRoles,'USER_SUPERVISOR')
                                          or #lists.contains(userRoles,'USER_WRITE')}" href="/messaging/new">
            <i class="bi bi-envelope-plus"></i>
          </a>
        </div>
        <div class="navbar-nav mt-2 mx-2 flex-grow-1 d-block d-none d-sm-block text-center">
          <a id="moduleHeaderTitle" class="h3 moduleTitle" rhef="/">DWC</a>
        </div>

        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarBreadcrumb" aria-controls="navbarBreadcrumb" aria-expanded="false" aria-label="Toggle navigation">
          <i class="bi bi-list nav-mod-header-link"></i>
        </button>

        <div class="collapse navbar-collapse mr-2 mt-3 mt-md-0" id="navbarBreadcrumb">
          <ul class="navbar-nav me-auto d-none d-sm-block"></ul>

          <form onsubmit="searchForm()" class="d-flex me-auto mt-3 mt-sm-0" style="height: 30px">
              <input id="searchInput" class="form-control" type="text" placeholder="Search" onkeyup="searchKeyUp(event)">
              <button class="btn btn-sm btn-outline-msg mx-1 px-1" type="button" onclick="submit()">Search</button>
              <script th:inline="javascript">
                function searchForm() {
                  event.preventDefault();
                  debugger
                  window.location.href="/messaging/search/"+document.getElementById("searchInput").value;
                }
                function searchKeyUp(event) {
                  event.preventDefault();
                  if (event.key === 'Enter' || event.keyCode === 13) {
                    searchForm();
                  }
                }
              </script>
          </form>

        </div>

      </div>

    </nav>

</div>